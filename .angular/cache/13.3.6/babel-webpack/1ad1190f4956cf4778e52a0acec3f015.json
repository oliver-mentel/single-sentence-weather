{"ast":null,"code":"import { faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { faSun } from '@fortawesome/free-regular-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/weather-api.service\";\nimport * as i2 from \"@fortawesome/angular-fontawesome\";\nimport * as i3 from \"./search/search.component\";\nimport * as i4 from \"@angular/common\";\n\nfunction WeatherCardsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" No location found under the name \");\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \". \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\\"\", ctx_r0.nameOfLocation, \"\\\"\");\n  }\n}\n\nfunction WeatherCardsComponent_div_10_div_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"p\", 23);\n    i0.ɵɵtext(3, \"Local Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 24);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 22)(8, \"p\", 23);\n    i0.ɵɵtext(9, \"Wind\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 24);\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\")(13, \"br\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \"Wind gusts:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 22)(18, \"p\", 23);\n    i0.ɵɵtext(19, \"Humidity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 24);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 22)(23, \"p\", 23);\n    i0.ɵɵtext(24, \"Visibility\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\", 24);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 22)(28, \"p\", 23);\n    i0.ɵɵtext(29, \"Pressure\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 24);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 22)(33, \"p\", 23);\n    i0.ɵɵtext(34, \"Precipitation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"p\", 24);\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"div\", 22)(38, \"p\", 23);\n    i0.ɵɵtext(39, \"Clouds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"p\", 24);\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 22)(43, \"p\", 23);\n    i0.ɵɵtext(44, \"UV Index:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"p\", 24);\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"small\", 25);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const location_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 11, location_r2 == null ? null : location_r2.location == null ? null : location_r2.location.localtime, \"HH:mm\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\" \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.wind_kph, \" km/h from the \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.wind_dir, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.gust_kph, \" km/h \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.humidity, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.vis_km, \" km\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.pressure_mb, \" hPa \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.precip_mm, \" mm\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.cloud, \" %\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.uv, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Last updated: \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.last_updated, \"\");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    background: a0\n  };\n};\n\nfunction WeatherCardsComponent_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"div\", 12);\n    i0.ɵɵelementStart(3, \"h2\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"fa-icon\", 14);\n    i0.ɵɵlistener(\"click\", function WeatherCardsComponent_div_10_div_1_Template_fa_icon_click_6_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const location_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.addToFavorites(location_r2.id);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(7, \"img\", 15);\n    i0.ɵɵelementStart(8, \"p\", 16);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"titlecase\");\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, WeatherCardsComponent_div_10_div_1_div_12_Template, 49, 14, \"div\", 17);\n    i0.ɵɵelementStart(13, \"div\", 18)(14, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function WeatherCardsComponent_div_10_div_1_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const location_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.toggleDetails(location_r2.id);\n    });\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function WeatherCardsComponent_div_10_div_1_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const location_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.removeLocation(location_r2.id);\n    });\n    i0.ɵɵtext(17, \" X \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const location_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(19, _c0, location_r2.temperatureColor));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 12, location_r2.location == null ? null : location_r2.location.name), \", \", location_r2.location == null ? null : location_r2.location.country, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", location_r2.isFavoriteLocation ? \"btn-heart-favorite\" : \"btn-heart\")(\"icon\", ctx_r3.faHeart);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.condition == null ? null : location_r2.current.condition.icon, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\" The weather in \", i0.ɵɵpipeBind1(10, 14, location_r2.location == null ? null : location_r2.location.name), \" is currently \", location_r2.current == null ? null : location_r2.current.condition == null ? null : location_r2.current.condition.text, \" with a current temperature of \", location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.temp_c, \" \\u00B0C, which feels like \", i0.ɵɵpipeBind2(11, 16, location_r2 == null ? null : location_r2.current == null ? null : location_r2.current.feelslike_c, \"1.0-0\"), \" \\u00B0C. \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", location_r2.displayDetails);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", !location_r2.displayDetails ? \"display more details\" : \"hide details\", \" \");\n  }\n}\n\nfunction WeatherCardsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, WeatherCardsComponent_div_10_div_1_Template, 18, 21, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.displayData);\n  }\n}\n\nvar TemperatureColor = /*#__PURE__*/(() => {\n  (function (TemperatureColor) {\n    TemperatureColor[\"veryCold\"] = \"#148efbbd\";\n    TemperatureColor[\"cold\"] = \"#1edbcbbd\";\n    TemperatureColor[\"normal\"] = \"#17ce37bd\";\n    TemperatureColor[\"warm\"] = \"#deb200\";\n    TemperatureColor[\"hot\"] = \"#de8300\";\n    TemperatureColor[\"veryHot\"] = \"#de3900\";\n  })(TemperatureColor || (TemperatureColor = {}));\n\n  return TemperatureColor;\n})();\nexport let WeatherCardsComponent = /*#__PURE__*/(() => {\n  class WeatherCardsComponent {\n    constructor(httpService) {\n      this.httpService = httpService;\n      this.nameOfLocation = '';\n      this.locations = new Array();\n      this.badRequest = false;\n      this.isDetailView = false; // Fa Icons\n\n      this.faHeart = faHeart;\n      this.faSun = faSun;\n    }\n\n    ngOnInit() {\n      // load favorite locations from local storage\n      for (let i = 0; i < localStorage.length; i++) {\n        this.locations.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n      } // set all locations to displayDetails: false\n\n\n      this.locations.forEach(location => location.displayDetails = false);\n      this.displayData = true;\n    }\n\n    onSubmit(location) {\n      if (location !== '') {\n        // Used for template to display location name\n        this.nameOfLocation = location; // Call weather service\n\n        this.httpService.getData(location).subscribe(weatherData => {\n          var _a, _b;\n\n          this.weatherData = weatherData;\n          this.badRequest = false;\n\n          if (this.weatherData) {\n            this.defineTemperatureColor((_b = (_a = this.weatherData) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.temp_c);\n            this.locations.unshift({\n              id: this.locations.length + 1,\n              current: Object.assign({}, weatherData.current),\n              location: Object.assign({}, weatherData.location),\n              temperatureColor: this.temperatureColor,\n              displayDetails: false,\n              isFavoriteLocation: false\n            });\n            this.displayData = true;\n          }\n        }, // Error Handling\n        error => {\n          if (error.status === 400) {\n            this.badRequest = true;\n          }\n        });\n      }\n    }\n\n    defineTemperatureColor(temperature) {\n      if (temperature < -5) {\n        this.temperatureColor = TemperatureColor.veryCold;\n      } else if (temperature >= -5 && temperature < 10) {\n        this.temperatureColor = TemperatureColor.cold;\n      } else if (temperature >= 10 && temperature < 20) {\n        this.temperatureColor = TemperatureColor.normal;\n      } else if (temperature >= 20 && temperature < 30) {\n        this.temperatureColor = TemperatureColor.warm;\n      } else if (temperature >= 30 && temperature < 40) {\n        this.temperatureColor = TemperatureColor.hot;\n      } else {\n        this.temperatureColor = TemperatureColor.veryHot;\n      }\n    }\n\n    removeLocation(id) {\n      if (confirm('Are you sure you want to delete this location?')) {\n        // Remove favorite location from local storage\n        this.locations.forEach(location => {\n          if (location.id === id) {\n            localStorage.removeItem(location.location.name);\n          }\n        }); // Remove location from locations array\n\n        this.locations = this.locations.filter(location => location.id !== id);\n      }\n    }\n\n    addToFavorites(id) {\n      // Add favorite location to locations array in local storage\n      this.locations.forEach(location => {\n        if (location.id === id) {\n          // set location property isFavoriteLocation to true\n          location.isFavoriteLocation = true;\n          localStorage.setItem(location.location.name, JSON.stringify(location));\n        }\n      });\n    }\n\n    toggleDetails(id) {\n      this.locations.forEach(location => {\n        if (location.id === id) {\n          location.displayDetails = !location.displayDetails;\n        }\n      });\n    }\n\n  }\n\n  WeatherCardsComponent.ɵfac = function WeatherCardsComponent_Factory(t) {\n    return new (t || WeatherCardsComponent)(i0.ɵɵdirectiveInject(i1.WeatherApiService));\n  };\n\n  WeatherCardsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WeatherCardsComponent,\n    selectors: [[\"app-weather-cards\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"container\"], [\"size\", \"6x\", 2, \"color\", \"rgb(242, 242, 242)\", 3, \"icon\"], [1, \"title\"], [1, \"subtitle\"], [1, \"search\"], [3, \"inputValue\"], [\"class\", \"bad-request\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bad-request\"], [\"class\", \"weather-card-result\", 3, \"ngStyle\", 4, \"ngIf\"], [1, \"weather-card-result\", 3, \"ngStyle\"], [1, \"card-title-container\"], [2, \"flex-grow\", \"1.2\"], [2, \"font-weight\", \"300\", \"margin-bottom\", \"10px\", \"align-self\", \"center\", \"flex-grow\", \"1\"], [\"size\", \"2x\", 2, \"align-self\", \"flex-start\", 3, \"ngClass\", \"icon\", \"click\"], [3, \"src\"], [1, \"text\"], [\"class\", \"detail\", 4, \"ngIf\"], [1, \"btn-container\"], [1, \"btn-details\", 3, \"click\"], [1, \"btn-remove\", 3, \"click\"], [1, \"detail\"], [1, \"detail-item\"], [1, \"detail-item-title\"], [1, \"detail-item-text\"], [1, \"update-time\"]],\n    template: function WeatherCardsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"fa-icon\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Single Sentence Weather\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h2\", 3);\n        i0.ɵɵtext(5, \"Report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"section\")(7, \"div\", 4)(8, \"app-search\", 5);\n        i0.ɵɵlistener(\"inputValue\", function WeatherCardsComponent_Template_app_search_inputValue_8_listener($event) {\n          return ctx.onSubmit($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(9, WeatherCardsComponent_div_9_Template, 5, 1, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, WeatherCardsComponent_div_10_Template, 2, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"icon\", ctx.faSun);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.badRequest);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.locations);\n      }\n    },\n    directives: [i2.FaIconComponent, i3.SearchComponent, i4.NgIf, i4.NgForOf, i4.NgStyle, i4.NgClass],\n    pipes: [i4.TitleCasePipe, i4.DecimalPipe, i4.DatePipe],\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;margin:30px 0}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;color:#fff;margin:30px 0 0;word-spacing:5px}.subtitle[_ngcontent-%COMP%]{font-size:1rem;font-weight:200;color:#fff;margin:0 0 20px;letter-spacing:5px}.search[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:wrap;width:100%}.weather-card-result[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:46em;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:12px;border-radius:7px;margin:10px}.card-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.btn-heart[_ngcontent-%COMP%]{cursor:pointer;color:#ffffff40}.btn-heart-favorite[_ngcontent-%COMP%]{transition:.4s;color:#d23d3deb;cursor:pointer}.text[_ngcontent-%COMP%]{align-self:center;margin:20px;text-align:center;color:#373737}.btn-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.btn-remove[_ngcontent-%COMP%]{align-self:flex-end;border-radius:45px;height:auto;width:36px;border:none;background:#ffffff40;padding:10px;color:#373737}.btn-details[_ngcontent-%COMP%]{align-self:flex-start;border:none;background:#ffffff40;height:auto;border-radius:5px;padding:10px;color:#373737}.btn-remove[_ngcontent-%COMP%]:hover, .btn-details[_ngcontent-%COMP%]:hover{transition:.3s;background-color:#2d2d5e;color:#fff;cursor:pointer}.detail[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}.detail-item-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:300;color:#373737;margin-bottom:.5em}.detail-item[_ngcontent-%COMP%]{margin:4px}.update-time[_ngcontent-%COMP%]{align-self:center;order:99}.bad-request[_ngcontent-%COMP%]{color:red;font-size:1.2rem;font-weight:300;margin-top:1em;text-align:center}\"]\n  });\n  return WeatherCardsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}